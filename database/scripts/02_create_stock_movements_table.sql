-- SQL script to create the STOCK_MOVEMENTS table
CREATE TABLE STOCK_MOVEMENTS (
    MOVEMENT_ID             NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    PRODUCT_ID              NUMBER NOT NULL,
    MOVEMENT_TYPE           VARCHAR2(50) NOT NULL, -- e.g., 'IN', 'OUT', 'ADJUSTMENT', 'RETURN'
    QUANTITY                NUMBER NOT NULL,
    MOVEMENT_DATE           TIMESTAMP DEFAULT SYSTIMESTAMP NOT NULL,
    SOURCE_LOCATION         VARCHAR2(100),
    DESTINATION_LOCATION    VARCHAR2(100),
    RECORDED_BY             VARCHAR2(100),

    -- Foreign Key constraint to link with the PRODUCTS table
    CONSTRAINT FK_PRODUCT_ID
        FOREIGN KEY (PRODUCT_ID)
        REFERENCES PRODUCTS(PRODUCT_ID)
);

COMMENT ON TABLE STOCK_MOVEMENTS IS 'Records all movements of stock (in, out, adjustments).';
COMMENT ON COLUMN STOCK_MOVEMENTS.PRODUCT_ID IS 'Foreign key linking to the PRODUCTS table.';
COMMENT ON COLUMN STOCK_MOVEMENTS.MOVEMENT_TYPE IS 'Type of stock movement (e.g., IN, OUT).';
COMMENT ON COLUMN STOCK_MOVEMENTS.QUANTITY IS 'Quantity of product involved in the movement.';
COMMENT ON COLUMN STOCK_MOVEMENTS.MOVEMENT_DATE IS 'Timestamp of the stock movement.';